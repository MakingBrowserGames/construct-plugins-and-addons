{"Id":"ccae630d-1009-4f65-98a6-f33314238cbc","Name":"CSS","Class":"InjectCSS_v2","Company":"StraniAnelli","Author":"StraniAnelli","AddonId":"StraniAnelli_InjectCSS_v2","Description":"Use CSS stylesheet in Construct 3 (version 2).","AddonFolder":"C:\\Users\\el3um\\AppData\\Roaming\\C3IDE_DATA\\Server\\Test\\injectcss_v2","AddonCategory":"form-controls","MajorVersion":0,"MinorVersion":0,"RevisionVersion":0,"BuildVersion":1,"Type":0,"TypeName":"(Plugin)","IconXml":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t width=\"1700.79004px\" height=\"1700.79004px\" viewBox=\"499 379 690 690\"\r\n\t enable-background=\"new 0 0 1700.79004 1700.79004\" xml:space=\"preserve\">\r\n<g id=\"bg\">\r\n\t<g>\r\n\t\t<g>\r\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#D2E1F0\" d=\"M850.39453,860.66992\r\n\t\t\t\tc-50.35645,0-94.3252-27.35645-117.85254-68.02051l-80.03027,46.2041c-4.6543,2.68945-6.13086,8.71875-3.24805,13.25586\r\n\t\t\t\tC691.50098,918.5957,765.7959,962.7168,850.39453,962.7168c88.12598,0,165.07129-47.875,206.24316-119.03613l-80.48633-46.46973\r\n\t\t\t\tc-4.31445-2.49023-9.80273-1.20508-12.57129,2.93555C939.1748,836.64063,897.59082,860.66992,850.39453,860.66992\r\n\t\t\t\tL850.39453,860.66992z M1136.7207,559.2959c4.61426-2.66309,6.11035-8.61914,3.3125-13.15137\r\n\t\t\t\tc-59.91504-97.03027-167.22461-161.69434-289.63867-161.69434c-125.89355,0-235.81348,68.39258-294.63379,170.0498\r\n\t\t\t\tl80.37695,46.40625c4.39844,2.53906,10.00195,1.14941,12.71094-3.14551\r\n\t\t\t\tc42.16406-66.85156,116.66992-111.26367,201.5459-111.26367c88.12598,0,165.07129,47.87598,206.24316,119.03613\r\n\t\t\t\tL1136.7207,559.2959z\"/>\r\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#96AAB9\" d=\"M850.39453,962.7168\r\n\t\t\t\tc-84.59863,0-158.89355-44.12109-201.13086-110.60742c-2.87695-4.53027-1.40039-10.57031,3.24805-13.25586l80.03027-46.2041\r\n\t\t\t\tc-11.58105-20.0166-18.20996-43.25488-18.20996-68.04199c0-74.78516,60.55762-136.0625,136.0625-136.0625\r\n\t\t\t\tc47.19629,0,88.78027,24.0293,113.18555,60.52246c2.76465,4.13379,8.26367,5.42188,12.57129,2.93555l80.48633-46.46973\r\n\t\t\t\tc-41.17188-71.16016-118.11719-119.03613-206.24316-119.03613c-84.87598,0-159.38184,44.41211-201.5459,111.26367\r\n\t\t\t\tc-2.70605,4.29102-8.31836,5.68164-12.71094,3.14551L555.76074,554.5c-28.95215,50.04004-45.52344,108.13965-45.52344,170.10742\r\n\t\t\t\tc0,186.96484,151.39453,340.1582,340.15723,340.1582c122.41406,0,229.72363-64.66406,289.63867-161.69531\r\n\t\t\t\tc2.7959-4.52734,1.29492-10.49023-3.3125-13.15234l-80.08301-46.2373\r\n\t\t\t\tC1015.46582,914.8418,938.52051,962.7168,850.39453,962.7168z\"/>\r\n\t\t</g>\r\n\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#00E1C8\" d=\"M1137.18457,761.19141v-73.16797l-63.36523,36.58398\r\n\t\t\tL1137.18457,761.19141L1137.18457,761.19141z M1026.5752,708.24219l120.05859-69.31641\r\n\t\t\tc12.56836-7.25586,28.3457,1.85254,28.3457,16.36621v138.63086c0,14.5127-15.77734,23.62207-28.3457,16.36621\r\n\t\t\tl-120.05859-69.31641C1014.02734,733.72754,1014.02734,715.4873,1026.5752,708.24219z\"/>\r\n\t</g>\r\n</g>\r\n<g id=\"logo\">\r\n</g>\r\n</svg>","IconImage":"System.Windows.Media.Imaging.BitmapImage","CreateDate":"2019-09-12T13:58:29.92+02:00","LastModified":"2019-09-14T01:24:11.0863744+02:00","ChangeDate":"2019-09-14, 01:24","AddonJson":"{\r\n  \"is-c3-addon\": true,\r\n  \"type\": \"plugin\",\r\n  \"name\": \"CSS\",\r\n  \"id\": \"StraniAnelli_InjectCSS_v2\",\r\n  \"version\": \"0.0.0.1\",\r\n  \"author\": \"StraniAnelli\",\r\n  \"website\": \"https://www.construct.net\",\r\n  \"documentation\": \"https://www.construct.net\",\r\n  \"description\": \"Use CSS stylesheet in Construct 3 (version 2).\",\r\n  \"editor-scripts\": [\r\n    \"plugin.js\",\r\n    \"type.js\",\r\n    \"instance.js\"\r\n  ],\r\n  \"file-list\": [\r\n    \"c3runtime/plugin.js\",\r\n    \"c3runtime/type.js\",\r\n    \"c3runtime/instance.js\",\r\n    \"c3runtime/conditions.js\",\r\n    \"c3runtime/actions.js\",\r\n    \"c3runtime/expressions.js\",\r\n    \"lang/en-US.json\",\r\n    \"aces.json\",\r\n    \"addon.json\",\r\n    \"icon.svg\",\r\n    \"instance.js\",\r\n    \"plugin.js\",\r\n    \"type.js\",\r\n    \"c3runtime/domSide.js\"\r\n  ]\r\n}","PluginEditTime":"\"use strict\";\r\n{\r\n\r\n\tconst PLUGIN_ID = \"StraniAnelli_InjectCSS_v2\";\t\r\n\tconst PLUGIN_VERSION = \"0.0.0.1\";\r\n\tconst PLUGIN_CATEGORY = \"form-controls\";\r\n\t\r\n\tconst PLUGIN_CLASS = SDK.Plugins.StraniAnelli_InjectCSS_v2 = class InjectCSS_v2Plugin extends SDK.IPluginBase\r\n\t{\r\n\t\tconstructor()\r\n\t\t{\r\n\t\t\tsuper(PLUGIN_ID);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\"plugins.\" + PLUGIN_ID.toLowerCase());\r\n\t\t\t\r\n\t\t\tthis._info.SetName(lang(\".name\"));\r\n\t\t\tthis._info.SetDescription(lang(\".description\"));\r\n\t\t\tthis._info.SetVersion(PLUGIN_VERSION);\r\n\t\t\tthis._info.SetCategory(PLUGIN_CATEGORY);\r\n\t\t\tthis._info.SetAuthor(\"StraniAnelli\");\r\n\t\t\tthis._info.SetHelpUrl(lang(\".help-url\"));\r\n\t\t\t//this._info.SetIsSingleGlobal(true);\r\n\t\t\tthis._info.SetPluginType(\"world\"); // mark as world plugin since it's placed in the layout\r\n            this._info.SetIsResizable(true); // allow to be resized\r\n\r\n\t\t\tthis._info.SetDOMSideScripts([\"c3runtime/domSide.js\"]);\r\n\r\n\t\t\tthis._info.SetSupportedRuntimes([\"c3\"]);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\".properties\");\r\n\t\r\n\t\t\tthis._info.SetProperties([\n\t\t\t\tnew SDK.PluginProperty(\"check\", \"is-local\", true),\n\t\t\t\tnew SDK.PluginProperty(\"longtext\", \"css\", \"personalStyle.css\")\r\n\r\n\t\t\t]);\r\n\t\t\t\r\n            SDK.Lang.PopContext(); //.properties\r\n\t\t\tSDK.Lang.PopContext();\r\n\t\t}\r\n\t};\r\n\t\r\n\tPLUGIN_CLASS.Register(PLUGIN_ID, PLUGIN_CLASS);\r\n}","PluginRunTime":"\"use strict\";\r\n{\r\n\tconst DOM_COMPONENT_ID = \"StraniAnelli_InjectCSS_v2\";\r\n\r\n\t//C3.Plugins.StraniAnelli_InjectCSS_v2 = class InjectCSS_v2Plugin extends C3.SDKPluginBase\r\n\tC3.Plugins.StraniAnelli_InjectCSS_v2 = class InjectCSS_v2Plugin extends C3.SDKDOMPluginBase\r\n\t{\r\n\t\tconstructor(opts)\r\n\t\t{\r\n\t\t\tsuper(opts, DOM_COMPONENT_ID);\r\n\t\t\t\r\n\t\t\t//this.AddElementMessageHandler(\"changeaction\", (sdkInst, e) => sdkInst._OnMouseLeave(e));\r\n\t\t\tthis.AddElementMessageHandler(\"changeaction\", (sdkInst, e) => {\r\n\t\t\t\t\tthis._action = e[\"action\"];\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t};\r\n}","TypeEditTime":"\"use strict\";\r\n{\r\n\tconst PLUGIN_CLASS = SDK.Plugins.StraniAnelli_InjectCSS_v2;\r\n\t\r\n\tPLUGIN_CLASS.Type = class InjectCSS_v2Type extends SDK.ITypeBase\r\n\t{\r\n\t\tconstructor(sdkPlugin, iObjectType)\r\n\t\t{\r\n\t\t\tsuper(sdkPlugin, iObjectType);\r\n\t\t}\r\n\t};\r\n}","TypeRunTime":"\"use strict\";\r\n{\r\n\tC3.Plugins.StraniAnelli_InjectCSS_v2.Type = class InjectCSS_v2Type extends C3.SDKTypeBase\r\n\t{\r\n\t\tconstructor(objectClass)\r\n\t\t{\r\n\t\t\tsuper(objectClass);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\t\r\n\t\t}\r\n\t};\r\n}","InstanceEditTime":"\"use strict\";\r\n{\r\n\tconst PLUGIN_CLASS = SDK.Plugins.StraniAnelli_InjectCSS_v2;\r\n\t\r\n\tPLUGIN_CLASS.Instance = class InjectCSS_v2Instance extends SDK.IWorldInstanceBase\r\n\t{\r\n\t\tconstructor(sdkType, inst)\r\n\t\t{\r\n\t\t\tsuper(sdkType, inst);\r\n\t\t\tthis._webglText = null;\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\t// Release the WebGL text if it was created\r\n            if (this._webglText)\r\n            {\r\n                this._webglText.Release();\r\n                this._webglText = null;\r\n            }\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\r\n\t\t\t// Default to top-left origin\r\n\t\t\tthis._inst.SetOrigin(0, 0);\r\n\t\t}\r\n\t\t\r\n\t\tOnPlacedInLayout()\r\n        {\r\n            // Set default size\r\n            this._inst.SetSize(64, 64);\r\n        }\r\n\t\t\r\n\t\t\r\n\t\t_UpdateWebGLText(iRenderer, iLayoutView)\r\n        {\r\n           if (!this._webglText) // lazy-create\r\n            {\r\n                const fontsize = 12;\r\n                this._webglText = iRenderer.CreateWebGLText();\r\n                this._webglText.SetFontSize(fontsize);\r\n                this._webglText.SetBold(true);\r\n                this._webglText.SetColorRgb(207, 207, 207);\r\n                this._webglText.SetTextureUpdateCallback(() => iLayoutView.Refresh());\r\n                this._webglText.SetHorizontalAlignment(\"center\");\r\n                this._webglText.SetVerticalAlignment(\"center\");\r\n            }\r\n\r\n            const textZoom = iLayoutView.GetZoomFactor();\r\n            this._webglText.SetSize(this._inst.GetWidth(), this._inst.GetHeight(), textZoom);\r\n\r\n            this._webglText.SetText(\"CSS\");\r\n        }\r\n\t\t\r\n\t\t\r\n\t\tDraw(iRenderer, iDrawParams)\r\n        {\r\n            const iLayoutView = iDrawParams.GetLayoutView();\r\n           \tthis._UpdateWebGLText(iRenderer, iLayoutView);\r\n\r\n            this._inst.ApplyBlendMode(iRenderer);\r\n            iRenderer.SetColorFillMode();\r\n\r\n            const quad = this._inst.GetQuad();\r\n\r\n\t\t\tiRenderer.PushLineWidth(4)\r\n\r\n\t\t\tiRenderer.SetColorRgba(0.16, 0.66, 0.87, 1);\r\n            iRenderer.Quad(quad);\r\n    \r\n            iRenderer.SetColorRgba(0, 0.44, 0.73, 1);\r\n            iRenderer.LineQuad(quad);\r\n            \r\n            iRenderer.PopLineWidth()\r\n\r\n            // Draw button text on top\r\n            const texture = this._webglText.GetTexture();\r\n            if (!texture) return; // not yet loaded WebGLText - just ignore and skip rendering text, it'll appear momentarily\r\n\r\n            iRenderer.SetTextureFillMode();\r\n            iRenderer.SetTexture(texture);\r\n            iRenderer.ResetColor();\r\n            iRenderer.Quad3(quad, this._webglText.GetTexRect());\r\n        }\r\n\t\t\r\n\t\tOnPropertyChanged(id, value)\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tLoadC2Property(name, valueString)\r\n\t\t{\r\n\t\t\treturn false;\t\t// not handled\r\n\t\t}\r\n\t};\r\n}","InstanceRunTime":"\"use strict\";\r\n{\r\n\t\r\n\tconst DOM_COMPONENT_ID = \"StraniAnelli_InjectCSS_v2\";\r\n\r\n\t//C3.Plugins.StraniAnelli_InjectCSS_v2.Instance = class InjectCSS_v2Instance extends C3.SDKInstanceBase\r\n\tC3.Plugins.StraniAnelli_InjectCSS_v2.Instance = class InjectCSS_v2Instance extends C3.SDKDOMInstanceBase\r\n\t{\r\n\t\tconstructor(inst, properties)\r\n\t\t{\r\n\t\t\tsuper(inst, DOM_COMPONENT_ID);\r\n\t\t\t\r\n\t\t\tthis._isLocal = true;\r\n\t\t\tthis._css = \"personalStyle.css\";\r\n\t\t\tthis._url = \"personalStyle.css\";\r\n\t\t\tthis._idUnico =  this._inst._uid;\r\n\t\t\tthis._action = \"NONE\"; //\"NONE\", \"ADD\", \"DELETE\", \"CHANGE\", \"DESTROY\"\r\n\t\t\t\r\n\t\t\tif (properties)\r\n\t\t\t{\r\n\t\t\t\tthis._isLocal = properties[0];\r\n                this._css = properties[1];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Create an element for this instance. The runtime handles this and will result in a call\r\n            // to CreateElement() in domSide.js where the real DOM calls are made.\r\n\t\t\tthis.CreateElement({\r\n\t\t\t\t\"isLocal\": this._isLocal,\r\n\t\t\t\t\"css\": this._css,\r\n\t\t\t\t\"url\": this._url,\r\n\t\t\t\t\"idUnico\": this._idUnico,\r\n\t\t\t\t\"action\": this._action\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tasync UrlVero(nameFile) {\r\n\t\t\tconst url = await this._runtime.GetAssetManager().GetProjectFileUrl(nameFile);\r\n\t\t\treturn url;\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\t\t\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\tGetElementState()\r\n\t\t{\r\n\t\t\t// Return JSON with the state of the element. This is passed along to both CreateElement()\r\n            // and UpdateState() in domSide.js. It provides a convenient way to send all the DOM element\r\n            // state in one go, ensuring any changes are reflected in the real element.\r\n\t\t\treturn {\r\n\t\t\t\t\"isLocal\": this._isLocal,\r\n\t\t\t\t\"css\": this._css,\r\n\t\t\t\t\"url\": this._url,\r\n\t\t\t\t\"idUnico\": this._idUnico,\r\n\t\t\t\t\"action\": this._action\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tDraw(renderer)\r\n        {\r\n            // not used - a DOM element is positioned at this instance instead\r\n        }\r\n\t\t\r\n\t\tSaveToJson()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\t\"isLocal\": this._isLocal,\r\n\t\t\t\t\"css\": this._css,\r\n\t\t\t\t\"url\": this._url,\r\n\t\t\t\t\"idUnico\": this._idUnico,\r\n\t\t\t\t\"action\": this._action\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tLoadFromJson(o)\r\n\t\t{\r\n\t\t\t// load state for savegames\r\n\t\t}\r\n\r\n        GetDebuggerProperties()\r\n\t\t{\r\n\t\t\treturn [{\r\n\t\t\t\ttitle: \"InjectCSS_v2\",\r\n\t\t\t\tproperties: [\r\n\t\t\t\t\t//{name: \".current-animation\",\tvalue: this._currentAnimation.GetName(),\tonedit: v => this.CallAction(Acts.SetAnim, v, 0) },\r\n\t\t\t\t]\r\n\t\t\t}];\r\n\t\t}\r\n\t};\r\n}","LanguageProperties":"\"properties\": {\r\n    \"is-local\": {\r\n      \"name\": \"Is Local\",\r\n      \"desc\": \"Is local CSS\"\r\n    },\r\n    \"css\": {\r\n      \"name\": \"CSS\",\r\n      \"desc\": \"CSS\"\r\n    }\r\n  }","LanguageCategories":"\"aceCategories\": {\r\n    \"custom\" : \"CSS\"\r\n}","Effect":{"BlendsBackground":false,"CrossSampling":false,"PreservesOpaqueness":false,"Animated":false,"MustPredraw":false,"ExtendBoxHorizontal":0,"ExtendBoxVertical":0,"Parameters":{},"Code":""},"ThemeCss":null,"ThemeLangauge":null,"Categories":["custom"],"Actions":{"add-css":{"Id":"add-css","Category":"custom","ScriptName":"AddCss","Ace":"{\r\n\t\"id\": \"add-css\",\r\n\t\"scriptName\": \"AddCss\",\r\n\t\"highlight\": false,\r\n\t\"isAsync\": true\r\n}","DisplayText":"Add CSS","Description":"Add CSS","Highlight":"false","Language":"\"add-css\": {\r\n\t\"list-name\": \"Add CSS\",\r\n\t\"display-text\": \"Add CSS\",\r\n\t\"description\": \"Add CSS\"\r\n}","Code":"async AddCss()\r\n{\r\n\tthis._action = \"ADD\";\r\n\t\r\n\tif (!!this._isLocal) {\r\n\t\tthis._url = await this._runtime.GetAssetManager().GetProjectFileUrl(this._css);\r\n\t} else {\r\n\t\tthis._url = this._css;\r\n\t}\r\n\t\r\n\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Add CSS","Async":null,"C2Id":"","Deprecated":""},"delete-css":{"Id":"delete-css","Category":"custom","ScriptName":"DeleteCss","Ace":"{\r\n\t\"id\": \"delete-css\",\r\n\t\"scriptName\": \"DeleteCss\",\r\n\t\"highlight\": false,\n\t\"isAsync\": true\r\n}","DisplayText":"Delete CSS","Description":"Delete CSS","Highlight":"false","Language":"\"delete-css\": {\r\n\t\"list-name\": \"Delete Css\",\r\n\t\"display-text\": \"Delete CSS\",\r\n\t\"description\": \"Delete CSS\"\r\n}","Code":"async DeleteCss()\r\n{\r\n\tthis._action = \"DELETE\";\r\n\r\n\tif (!!this._isLocal) {\r\n\t\tthis._url = await this._runtime.GetAssetManager().GetProjectFileUrl(this._css);\r\n\t} else {\r\n\t\tthis._url = this._css;\r\n\t}\t\r\n\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Delete Css","Async":",\n\t\"isAsync\": true","C2Id":"","Deprecated":""},"change-css":{"Id":"change-css","Category":"custom","ScriptName":"ChangeCss","Ace":"{\r\n  \"id\": \"change-css\",\r\n  \"scriptName\": \"ChangeCss\",\r\n  \"highlight\": false,\r\n  \"isAsync\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"new-css\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"personalStyle.css\\\"\"\r\n    },\r\n    {\r\n      \"id\": \"is-local-css\",\r\n      \"type\": \"boolean\",\r\n      \"initialValue\": \"true\"\r\n    }\r\n    ]\r\n}","DisplayText":"Change CSS","Description":"Change CSS","Highlight":"false","Language":"\"change-css\": {\r\n  \"list-name\": \"Change CSS\",\r\n  \"display-text\": \"Change CSS to [i]{0}[/i] (Is Local: {1})\",\r\n  \"description\": \"Change CSS\",\r\n  \"params\": {\r\n    \"new-css\": {\r\n      \"name\": \"New CSS\",\r\n      \"desc\": \"New CSS\"\r\n    },\r\n    \"is-local-css\": {\r\n      \"name\": \"Is Local CSS\",\r\n      \"desc\": \"Is Local CSS\"\r\n    }\r\n  }\r\n} ","Code":"async ChangeCss(newCss,isLocalCss)\r\n{\r\n\tthis._action = \"CHANGE\";\r\n\tthis._css = newCss;\r\n\tthis._isLocal = isLocalCss;\r\n\t\t\r\n\tif (!!this._isLocal) {\r\n\t\tthis._url = await this._runtime.GetAssetManager().GetProjectFileUrl(this._css);\r\n\t} else {\r\n\t\tthis._url = this._css;\r\n\t}\r\n\t\r\n\r\n\tthis.UpdateElementState();\r\n}","ListName":"Change Css","Async":",\n\t\"isAsync\": true","C2Id":"","Deprecated":""}},"Conditions":{},"Expressions":{},"ThirdPartyFiles":{"domSide.js":{"FileName":"domSide.js","Content":"\"use strict\";\r\n\r\n{\r\n\r\n\tconst DOM_COMPONENT_ID = \"StraniAnelli_InjectCSS_v2\";\r\n\r\n\tfunction StopPropagation(e)\r\n\t{\r\n\t\te.stopPropagation();\r\n\t}\r\n\t\r\n\tfunction addLink(e) {\r\n\t\r\n\t\tdeleteLinkByURL(e);\r\n\t\t\r\n\t\tconst linkCSS = document.createElement(\"link\");\r\n\t        \tlinkCSS.setAttribute(\"rel\", \"stylesheet\");\r\n\t        \tlinkCSS.setAttribute(\"type\", \"text/css\");\r\n\t        \tlinkCSS.setAttribute(\"href\", e[\"url\"]);\r\n\t        \tlinkCSS.setAttribute(\"createdbystranianelliinjectcss2\",\"\");\r\n\t        \tlinkCSS.setAttribute(\"idunico\", e[\"idUnico\"]);\r\n\t\t\r\n\t\tdocument.head.appendChild(linkCSS);\r\n\t}\r\n\t\r\n\tfunction deleteLinkByURL(e) {\r\n\t\tconst links = document.head.getElementsByTagName(\"link\");\r\n        const nameFile = e[\"url\"];\r\n        for (let i = 0; i < links.length; i++) {\r\n \t       if (links[i].href.substr(-nameFile.length) == nameFile) {\r\n \t          \tlinks[i].parentNode.removeChild(links[i]);\r\n\t\t\t\ti--;\r\n           }\r\n        }\r\n\t}\r\n\t\r\n\tfunction deleteLinkByIDUNICO(elem) {\r\n\t\tconst idunico = elem.getAttribute(\"idunico\");\r\n\t\tconst links = document.head.getElementsByTagName(\"link\");\r\n\t\tfor (let i = 0; i < links.length; i++) {\r\n \t       if (links[i].getAttribute(\"idunico\") == idunico) {\r\n \t          \tlinks[i].parentNode.removeChild(links[i]);\r\n\t\t\t\ti--;\r\n           }\r\n        }\r\n\t}\r\n\t\r\n\tconst HANDLER_CLASS = class InjectCSS_v2Handler extends DOMElementHandler\r\n\t{\r\n\t\tconstructor(iRuntime)\r\n\t\t{\r\n\t\t\tsuper(iRuntime, DOM_COMPONENT_ID);\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\tCreateElement(elementId, e) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tconst elem = document.createElement(\"span\");\r\n\t\t\telem.style.position = \"absolute\";\r\n\t\t\telem.style.display = \"none\";\r\n\t\t\telem.setAttribute(\"idunico\", e[\"idUnico\"]);\r\n\t\t\t\r\n\t\t\tthis.UpdateState(elem, e);\r\n          \t\r\n          \treturn elem;\r\n\t\t}\r\n\t\t\r\n\t\tUpdateState(elem, e) {\r\n\t\t\r\n\t\t\tif(e[\"action\"] === \"NONE\" ) return;\r\n          \t\r\n          \tif(e[\"action\"] === \"ADD\" ) {\r\n          \t    addLink(e);\r\n          \t    this.PostToRuntimeElement(\"changeaction\", DOM_COMPONENT_ID, { \"action\": \"NONE\" });\r\n          \t}\r\n          \t\r\n          \tif(e[\"action\"] === \"CHANGE\") {\r\n          \t\tdeleteLinkByIDUNICO(elem);\r\n          \t\taddLink(e);\r\n          \t\tthis.PostToRuntimeElement(\"changeaction\", DOM_COMPONENT_ID, { \"action\": \"NONE\" });\r\n          \t}\r\n          \t\r\n          \tif(e[\"action\"] === \"DELETE\" ) {\r\n          \t\tdeleteLinkByURL(e);\r\n          \t\tthis.PostToRuntimeElement(\"changeaction\", DOM_COMPONENT_ID, { \"action\": \"NONE\" });\r\n          \t}\r\n          \t\r\n          \tif(e[\"action\"] === \"DESTROY\" ){\r\n          \t\tdeleteLinkByURL(e);\r\n          \t}\r\n       }\r\n       \r\n       DestroyElement(elem) {\r\n       \t\tdeleteLinkByIDUNICO(elem);\r\n       }\r\n\t\t\r\n\t};\r\n\t\r\n\t\r\n\tRuntimeInterface.AddDOMHandlerClass(HANDLER_CLASS);\r\n\r\n}","PluginTemplate":"this._info.AddFileDependency(\n{\n    filename: \"c3runtime/domSide.js\",\n    type: \"inline-script\"\n});","Bytes":null,"Extention":".js","C3Folder":true,"C2Folder":false,"Rootfolder":false,"MimeType":"application/x-javascript","FileType":"inline-script","Compress":false,"PlainText":true}},"C2RunTime":""}