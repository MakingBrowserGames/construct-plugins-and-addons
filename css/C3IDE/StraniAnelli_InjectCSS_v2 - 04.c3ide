{"Id":"450c6fcb-c348-4291-96ea-740d364e952c","Name":"CSS","Class":"InjectCSS_v2","Company":"StraniAnelli","Author":"StraniAnelli","AddonId":"StraniAnelli_InjectCSS_v2","Description":"Use CSS stylesheet in Construct 3 (version 2).","AddonFolder":"C:\\Users\\el3um\\AppData\\Roaming\\C3IDE_DATA\\Server\\Test\\injectcss_v2","AddonCategory":"form-controls","MajorVersion":0,"MinorVersion":0,"RevisionVersion":0,"BuildVersion":2,"Type":0,"TypeName":"(Plugin)","IconXml":"<?xml version=\"1.0\"?>\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 474.557 474.557\" style=\"enable-background:new 0 0 474.557 474.557;\" xml:space=\"preserve\" width=\"512px\" height=\"512px\"><g><g>\n\t<g>\n\t\t<g>\n\t\t\t<path d=\"M0,2.028V472.53h474.557V2.028H0z M435.471,433.465c-33.996,0-362.303,0-396.363,0c0-33.996,0-358.377,0-392.329     c33.996,0,362.346,0,396.363,0C435.471,75.088,435.471,399.469,435.471,433.465z\" data-original=\"#000000\" class=\"active-path\" data-old_color=\"#000000\" fill=\"#008080\"/>\n\t\t\t<path d=\"M124.916,273.625c1.294,4.53,2.006,14.409,2.006,29.574c0,13.007,0.669,22.563,2.071,28.624     c1.402,6.018,4.142,11.174,8.24,15.272c4.077,4.098,9.081,7.075,15.013,8.866c5.954,1.769,14.496,2.653,25.605,2.653h6.579     v-29.66c-8.866,0-14.625-0.561-17.3-1.682c-2.653-1.143-4.638-2.718-5.954-4.897c-1.294-2.157-1.941-5.91-1.941-11.325     c0-3.84-0.345-12.576-0.992-26.295c-0.496-8.973-1.575-16.135-3.236-21.484c-1.639-5.393-4.012-9.944-7.118-13.697     c-3.085-3.775-7.054-7.032-11.907-9.815c5.501-3.581,9.577-6.967,12.274-10.311c2.675-3.257,4.875-7.442,6.601-12.511     c1.704-5.069,2.783-11.691,3.214-19.845c0.733-14.452,1.143-24.289,1.143-29.487c0-5.091,0.626-8.715,1.855-10.807     c1.251-2.071,3.149-3.645,5.738-4.702c2.588-1.014,8.477-1.532,17.623-1.532v-29.509h-6.579c-10.807,0-18.723,0.755-23.728,2.243     c-7.42,2.222-13.072,5.242-16.976,9.06c-3.883,3.84-6.558,8.909-8.046,15.229c-1.467,6.277-2.179,17.429-2.179,33.348     c0,9.858-0.367,16.674-1.035,20.643c-0.82,5.263-2.351,9.642-4.551,13.158c-2.243,3.516-4.832,5.997-7.916,7.485     c-3.02,1.445-7.528,2.373-13.568,2.739v29.681c7.593,0.388,13.201,2.028,16.89,4.897     C120.387,262.344,123.126,267.025,124.916,273.625z\" data-original=\"#000000\" class=\"active-path\" data-old_color=\"#000000\" fill=\"#008080\"/>\n\t\t\t<path d=\"M212.084,331.392l6.73,14.366c7.42-2.653,13.568-6.32,18.4-10.915c4.832-4.595,8.089-9.815,9.815-15.617     c1.747-5.846,2.61-13.805,2.61-23.814v-24.785h-34.751v34.729h16.761c-0.129,6.838-1.726,12.295-4.659,16.48     C224.034,325.87,219.051,329.105,212.084,331.392z\" data-original=\"#000000\" class=\"active-path\" data-old_color=\"#000000\" fill=\"#008080\"/>\n\t\t\t<rect x=\"214.888\" y=\"174.012\" width=\"34.751\" height=\"34.772\" data-original=\"#000000\" class=\"active-path\" data-old_color=\"#000000\" fill=\"#008080\"/>\n\t\t\t<path d=\"M311.18,356.349c7.464-2.243,13.201-5.22,17.106-9.081c3.883-3.818,6.536-8.93,7.938-15.272     c1.402-6.363,2.179-17.515,2.179-33.499c0-9.75,0.367-16.609,1.014-20.557c0.884-5.263,2.438-9.642,4.659-13.137     c2.179-3.494,4.767-6.018,7.809-7.485c3.042-1.467,7.55-2.373,13.568-2.696h-0.043v-29.66c-7.615-0.453-13.18-2.071-16.933-4.918     c-3.667-2.826-6.407-7.571-8.262-14.107c-1.251-4.616-1.855-14.452-1.855-29.509c0-13.029-0.712-22.541-2.157-28.56     c-1.424-6.105-4.163-11.195-8.197-15.358c-4.055-4.142-9.038-7.054-14.97-8.801c-5.975-1.726-14.517-2.61-25.626-2.61h-6.557     v29.466c9.34,0,15.337,0.561,17.99,1.683c2.696,1.1,4.551,2.675,5.565,4.724c1.057,2.049,1.553,6.169,1.639,12.36     c0.453,19.608,1.186,32.291,2.071,38.072c1.381,8.369,4.055,15.294,7.873,20.686c2.826,3.84,7.248,7.658,13.352,11.627     c-4.702,2.696-8.52,5.846-11.54,9.448c-3.041,3.559-5.436,7.96-7.205,13.072c-1.812,5.177-2.955,12.08-3.322,20.6     c-0.669,14.172-1.1,23.814-1.1,28.819c-0.086,5.026-0.669,8.585-1.984,10.699c-1.316,2.136-3.279,3.71-5.975,4.853     c-2.718,1.122-8.52,1.639-17.364,1.639v29.66h6.622C298.216,358.571,306.154,357.795,311.18,356.349z\" data-original=\"#000000\" class=\"active-path\" data-old_color=\"#000000\" fill=\"#008080\"/>\n\t\t</g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n\t<g>\n\t</g>\n</g></g> </svg>\n","IconImage":"System.Windows.Media.Imaging.BitmapImage","CreateDate":"2019-09-12T13:58:29.92+02:00","LastModified":"2019-09-14T16:12:17.1267475+02:00","ChangeDate":"2019-09-14, 04:12","AddonJson":"{\r\n  \"is-c3-addon\": true,\r\n  \"type\": \"plugin\",\r\n  \"name\": \"CSS\",\r\n  \"id\": \"StraniAnelli_InjectCSS_v2\",\r\n  \"version\": \"0.0.0.2\",\r\n  \"author\": \"StraniAnelli\",\r\n  \"website\": \"https://el3um4s.github.io/construct-inject-css-plugin/\",\r\n  \"documentation\": \"https://el3um4s.github.io/construct-inject-css-plugin/\",\r\n  \"description\": \"Use CSS stylesheet in Construct 3 (version 2).\",\r\n  \"editor-scripts\": [\r\n    \"plugin.js\",\r\n    \"type.js\",\r\n    \"instance.js\"\r\n  ],\r\n  \"file-list\": [\r\n    \"c3runtime/plugin.js\",\r\n    \"c3runtime/type.js\",\r\n    \"c3runtime/instance.js\",\r\n    \"c3runtime/conditions.js\",\r\n    \"c3runtime/actions.js\",\r\n    \"c3runtime/expressions.js\",\r\n    \"lang/en-US.json\",\r\n    \"aces.json\",\r\n    \"addon.json\",\r\n    \"icon.svg\",\r\n    \"instance.js\",\r\n    \"plugin.js\",\r\n    \"type.js\",\r\n    \"c3runtime/domSide.js\"\r\n  ]\r\n}","PluginEditTime":"\"use strict\";\r\n{\r\n\r\n\tconst PLUGIN_ID = \"StraniAnelli_InjectCSS_v2\";\t\r\n\tconst PLUGIN_VERSION = \"0.0.0.2\";\r\n\tconst PLUGIN_CATEGORY = \"form-controls\";\r\n\t\r\n\tconst PLUGIN_CLASS = SDK.Plugins.StraniAnelli_InjectCSS_v2 = class InjectCSS_v2Plugin extends SDK.IPluginBase\r\n\t{\r\n\t\tconstructor()\r\n\t\t{\r\n\t\t\tsuper(PLUGIN_ID);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\"plugins.\" + PLUGIN_ID.toLowerCase());\r\n\t\t\t\r\n\t\t\tthis._info.SetName(lang(\".name\"));\r\n\t\t\tthis._info.SetDescription(lang(\".description\"));\r\n\t\t\tthis._info.SetVersion(PLUGIN_VERSION);\r\n\t\t\tthis._info.SetCategory(PLUGIN_CATEGORY);\r\n\t\t\tthis._info.SetAuthor(\"StraniAnelli\");\r\n\t\t\tthis._info.SetHelpUrl(\"https://el3um4s.github.io/construct-inject-css-plugin/\");\r\n\t\t\t//this._info.SetIsSingleGlobal(true);\r\n\t\t\tthis._info.SetPluginType(\"world\"); // mark as world plugin since it's placed in the layout\r\n            this._info.SetIsResizable(true); // allow to be resized\r\n\r\n\t\t\tthis._info.SetDOMSideScripts([\"c3runtime/domSide.js\"]);\r\n\r\n\t\t\tthis._info.SetSupportedRuntimes([\"c3\"]);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\".properties\");\r\n\t\r\n\t\t\tthis._info.SetProperties([\n\t\t\t\tnew SDK.PluginProperty(\"check\", \"is-local\", true),\n\t\t\t\tnew SDK.PluginProperty(\"longtext\", \"css\", \"personalStyle.css\")\r\n\r\n\t\t\t]);\r\n\t\t\t\r\n            SDK.Lang.PopContext(); //.properties\r\n\t\t\tSDK.Lang.PopContext();\r\n\t\t}\r\n\t};\r\n\t\r\n\tPLUGIN_CLASS.Register(PLUGIN_ID, PLUGIN_CLASS);\r\n}","PluginRunTime":"\"use strict\";\r\n{\r\n\tconst DOM_COMPONENT_ID = \"StraniAnelli_InjectCSS_v2\";\r\n\r\n\t//C3.Plugins.StraniAnelli_InjectCSS_v2 = class InjectCSS_v2Plugin extends C3.SDKPluginBase\r\n\tC3.Plugins.StraniAnelli_InjectCSS_v2 = class InjectCSS_v2Plugin extends C3.SDKDOMPluginBase\r\n\t{\r\n\t\tconstructor(opts)\r\n\t\t{\r\n\t\t\tsuper(opts, DOM_COMPONENT_ID);\r\n\t\t\t\r\n\t\t\t//this.AddElementMessageHandler(\"changeaction\", (sdkInst, e) => sdkInst._OnMouseLeave(e));\r\n\t\t\tthis.AddElementMessageHandler(\"changeaction\", (sdkInst, e) => {\r\n\t\t\t\t\tthis._action = e[\"action\"];\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t};\r\n}","TypeEditTime":"\"use strict\";\r\n{\r\n\tconst PLUGIN_CLASS = SDK.Plugins.StraniAnelli_InjectCSS_v2;\r\n\t\r\n\tPLUGIN_CLASS.Type = class InjectCSS_v2Type extends SDK.ITypeBase\r\n\t{\r\n\t\tconstructor(sdkPlugin, iObjectType)\r\n\t\t{\r\n\t\t\tsuper(sdkPlugin, iObjectType);\r\n\t\t}\r\n\t};\r\n}","TypeRunTime":"\"use strict\";\r\n{\r\n\tC3.Plugins.StraniAnelli_InjectCSS_v2.Type = class InjectCSS_v2Type extends C3.SDKTypeBase\r\n\t{\r\n\t\tconstructor(objectClass)\r\n\t\t{\r\n\t\t\tsuper(objectClass);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\t\r\n\t\t}\r\n\t};\r\n}","InstanceEditTime":"\"use strict\";\r\n{\r\n\tconst PLUGIN_CLASS = SDK.Plugins.StraniAnelli_InjectCSS_v2;\r\n\t\r\n\tPLUGIN_CLASS.Instance = class InjectCSS_v2Instance extends SDK.IWorldInstanceBase\r\n\t{\r\n\t\tconstructor(sdkType, inst)\r\n\t\t{\r\n\t\t\tsuper(sdkType, inst);\r\n\t\t\tthis._webglText = null;\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\t// Release the WebGL text if it was created\r\n            if (this._webglText)\r\n            {\r\n                this._webglText.Release();\r\n                this._webglText = null;\r\n            }\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\r\n\t\t\t// Default to top-left origin\r\n\t\t\tthis._inst.SetOrigin(0, 0);\r\n\t\t}\r\n\t\t\r\n\t\tOnPlacedInLayout()\r\n        {\r\n            // Set default size\r\n            this._inst.SetSize(576, 16);\r\n        }\r\n\t\t\r\n\t\t\r\n\t\t_UpdateWebGLText(iRenderer, iLayoutView)\r\n        {\r\n           if (!this._webglText) // lazy-create\r\n            {\r\n                const fontsize = 8;\r\n                this._webglText = iRenderer.CreateWebGLText();\r\n                this._webglText.SetFontSize(fontsize);\r\n                if (this._inst.GetPropertyValue(\"is-local\")) {\r\n               \t\tthis._webglText.SetColorRgb(0.75, 0.40, 0.27);\r\n            \t} else {\r\n            \t\tthis._webglText.SetColorRgb(0.05, 0.05, 0.05);\r\n            \t}\r\n            \tthis._webglText.SetTextureUpdateCallback(() => iLayoutView.Refresh());\r\n                this._webglText.SetHorizontalAlignment(\"left\");\r\n                this._webglText.SetVerticalAlignment(\"center\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this._inst.GetPropertyValue(\"is-local\")) {\r\n               \tthis._webglText.SetColorRgb(0.75, 0.40, 0.27);\r\n            } else {\r\n            \tthis._webglText.SetColorRgb(0.05, 0.05, 0.05);\r\n            }\r\n\t\t\t\r\n            const textZoom = iLayoutView.GetZoomFactor();\r\n            this._webglText.SetSize(this._inst.GetWidth(), this._inst.GetHeight(), textZoom);\r\n\r\n            this._webglText.SetText(this._inst.GetPropertyValue(\"css\"));\r\n        }\r\n\t\t\r\n\t\t\r\n\t\tDraw(iRenderer, iDrawParams)\r\n        {\r\n            const iLayoutView = iDrawParams.GetLayoutView();\r\n           \tthis._UpdateWebGLText(iRenderer, iLayoutView);\r\n\r\n            this._inst.ApplyBlendMode(iRenderer);\r\n            iRenderer.SetColorFillMode();\r\n\r\n            const quad = this._inst.GetQuad();\r\n\r\n\t\t\tif (this._inst.GetPropertyValue(\"is-local\")) {\r\n\t\t\t\tiRenderer.SetColorRgba(0.05, 0.05, 0.05, 1);\r\n\t\t\t} else {\r\n\t\t\t\tiRenderer.SetColorRgba(0.75, 0.40, 0.27, 1);\r\n\t\t\t}\r\n            iRenderer.Quad(quad);\r\n    \r\n            const texture = this._webglText.GetTexture();\r\n            if (!texture) return; // not yet loaded WebGLText - just ignore and skip rendering text, it'll appear momentarily\r\n\r\n            iRenderer.SetTextureFillMode();\r\n            iRenderer.SetTexture(texture);\r\n            iRenderer.ResetColor();\r\n            iRenderer.Quad3(quad, this._webglText.GetTexRect());\r\n        }\r\n\t\t\r\n\t\tOnPropertyChanged(id, value)\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tLoadC2Property(name, valueString)\r\n\t\t{\r\n\t\t\treturn false;\t\t// not handled\r\n\t\t}\r\n\t};\r\n}","InstanceRunTime":"\"use strict\";\r\n{\r\n\t\r\n\tconst DOM_COMPONENT_ID = \"StraniAnelli_InjectCSS_v2\";\r\n\r\n\t//C3.Plugins.StraniAnelli_InjectCSS_v2.Instance = class InjectCSS_v2Instance extends C3.SDKInstanceBase\r\n\tC3.Plugins.StraniAnelli_InjectCSS_v2.Instance = class InjectCSS_v2Instance extends C3.SDKDOMInstanceBase\r\n\t{\r\n\t\tconstructor(inst, properties)\r\n\t\t{\r\n\t\t\tsuper(inst, DOM_COMPONENT_ID);\r\n\t\t\t\r\n\t\t\tthis._isLocal = true;\r\n\t\t\tthis._css = \"personalStyle.css\";\r\n\t\t\tthis._url = \"personalStyle.css\";\r\n\t\t\tthis._idUnico =  this._inst._uid;\r\n\t\t\tthis._action = \"NONE\"; //\"NONE\", \"ADD\", \"DELETE\", \"CHANGE\", \"DESTROY\", \"CLASS\"\r\n\t\t\t\r\n\t\t\t// CSS CLASS\r\n\t\t\tthis._class_action = \"NONE\"; // \"NONE, \"ADD\", \"REMOVE\", \"REPLACE\", \"TOGGLE\"\r\n\t\t\tthis._class_selector = \"\";\r\n\t\t\tthis._class_options_first = \"\";\r\n\t\t\tthis._class_options_second = \"\";\r\n\t\t\t\r\n\t\t\tif (properties)\r\n\t\t\t{\r\n\t\t\t\tthis._isLocal = properties[0];\r\n                this._css = properties[1];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Create an element for this instance. The runtime handles this and will result in a call\r\n            // to CreateElement() in domSide.js where the real DOM calls are made.\r\n\t\t\tthis.CreateElement({\r\n\t\t\t\t\"isLocal\": this._isLocal,\r\n\t\t\t\t\"css\": this._css,\r\n\t\t\t\t\"url\": this._url,\r\n\t\t\t\t\"idUnico\": this._idUnico,\r\n\t\t\t\t\"action\": this._action,\r\n\t\t\t\t\"class_action\": this._class_action,\r\n\t\t\t\t\"class_selector\": this._class_selector,\r\n\t\t\t\t\"class_option_first\": this._class_options_first,\r\n\t\t\t\t\"class_options_second\":this._class_options_second\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tasync UrlVero(nameFile) {\r\n\t\t\tconst url = await this._runtime.GetAssetManager().GetProjectFileUrl(nameFile);\r\n\t\t\treturn url;\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\t\t\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\tGetElementState()\r\n\t\t{\r\n\t\t\t// Return JSON with the state of the element. This is passed along to both CreateElement()\r\n            // and UpdateState() in domSide.js. It provides a convenient way to send all the DOM element\r\n            // state in one go, ensuring any changes are reflected in the real element.\r\n\t\t\treturn {\r\n\t\t\t\t\"isLocal\": this._isLocal,\r\n\t\t\t\t\"css\": this._css,\r\n\t\t\t\t\"url\": this._url,\r\n\t\t\t\t\"idUnico\": this._idUnico,\r\n\t\t\t\t\"action\": this._action,\r\n\t\t\t\t\"class_action\": this._class_action,\r\n\t\t\t\t\"class_selector\": this._class_selector,\r\n\t\t\t\t\"class_option_first\": this._class_options_first,\r\n\t\t\t\t\"class_options_second\":this._class_options_second\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tDraw(renderer)\r\n        {\r\n            // not used - a DOM element is positioned at this instance instead\r\n        }\r\n\t\t\r\n\t\tSaveToJson()\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\t\"isLocal\": this._isLocal,\r\n\t\t\t\t\"css\": this._css,\r\n\t\t\t\t\"url\": this._url,\r\n\t\t\t\t\"idUnico\": this._idUnico,\r\n\t\t\t\t\"action\": this._action,\r\n\t\t\t\t\"class_action\": this._class_action,\r\n\t\t\t\t\"class_selector\": this._class_selector,\r\n\t\t\t\t\"class_option_first\": this._class_options_first,\r\n\t\t\t\t\"class_options_second\":this._class_options_second\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tLoadFromJson(o)\r\n\t\t{\r\n\t\t\t// load state for savegames\r\n\t\t}\r\n\r\n        GetDebuggerProperties()\r\n\t\t{\r\n\t\t\treturn [{\r\n\t\t\t\ttitle: \"InjectCSS_v2\",\r\n\t\t\t\tproperties: [\r\n\t\t\t\t\t//{name: \".current-animation\",\tvalue: this._currentAnimation.GetName(),\tonedit: v => this.CallAction(Acts.SetAnim, v, 0) },\r\n\t\t\t\t]\r\n\t\t\t}];\r\n\t\t}\r\n\t};\r\n}","LanguageProperties":"\"properties\": {\r\n    \"is-local\": {\r\n      \"name\": \"Is Local\",\r\n      \"desc\": \"Is local CSS\"\r\n    },\r\n    \"css\": {\r\n      \"name\": \"CSS\",\r\n      \"desc\": \"CSS\"\r\n    }\r\n  }","LanguageCategories":"\"aceCategories\": {\r\n    \"custom\" : \"CSS\",\n    \"classlist\" : \"Class List\"\r\n}","Effect":{"BlendsBackground":false,"CrossSampling":false,"PreservesOpaqueness":false,"Animated":false,"MustPredraw":false,"ExtendBoxHorizontal":0,"ExtendBoxVertical":0,"Parameters":{},"Code":""},"ThemeCss":null,"ThemeLangauge":null,"Categories":["custom","classlist"],"Actions":{"add-css":{"Id":"add-css","Category":"custom","ScriptName":"AddCss","Ace":"{\r\n\t\"id\": \"add-css\",\r\n\t\"scriptName\": \"AddCss\",\r\n\t\"highlight\": false,\r\n\t\"isAsync\": true\r\n}","DisplayText":"Add CSS","Description":"Add CSS","Highlight":"false","Language":"\"add-css\": {\r\n\t\"list-name\": \"Add CSS\",\r\n\t\"display-text\": \"Add CSS\",\r\n\t\"description\": \"Add CSS\"\r\n}","Code":"async AddCss()\r\n{\r\n\tthis._action = \"ADD\";\r\n\t\r\n\tif (!!this._isLocal) {\r\n\t\tthis._url = await this._runtime.GetAssetManager().GetProjectFileUrl(this._css);\r\n\t} else {\r\n\t\tthis._url = this._css;\r\n\t}\r\n\t\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Add CSS","Async":null,"C2Id":"","Deprecated":""},"delete-css":{"Id":"delete-css","Category":"custom","ScriptName":"DeleteCss","Ace":"{\r\n\t\"id\": \"delete-css\",\r\n\t\"scriptName\": \"DeleteCss\",\r\n\t\"highlight\": false,\n\t\"isAsync\": true\r\n}","DisplayText":"Delete CSS","Description":"Delete CSS","Highlight":"false","Language":"\"delete-css\": {\r\n\t\"list-name\": \"Delete Css\",\r\n\t\"display-text\": \"Delete CSS\",\r\n\t\"description\": \"Delete CSS\"\r\n}","Code":"async DeleteCss()\r\n{\r\n\tthis._action = \"DELETE\";\r\n\r\n\tif (!!this._isLocal) {\r\n\t\tthis._url = await this._runtime.GetAssetManager().GetProjectFileUrl(this._css);\r\n\t} else {\r\n\t\tthis._url = this._css;\r\n\t}\t\r\n\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Delete Css","Async":",\n\t\"isAsync\": true","C2Id":"","Deprecated":""},"change-css":{"Id":"change-css","Category":"custom","ScriptName":"ChangeCss","Ace":"{\r\n  \"id\": \"change-css\",\r\n  \"scriptName\": \"ChangeCss\",\r\n  \"highlight\": false,\r\n  \"isAsync\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"new-css\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"personalStyle.css\\\"\"\r\n    },\r\n    {\r\n      \"id\": \"is-local-css\",\r\n      \"type\": \"boolean\",\r\n      \"initialValue\": \"true\"\r\n    }\r\n    ]\r\n}","DisplayText":"Change CSS","Description":"Change CSS","Highlight":"false","Language":"\"change-css\": {\r\n  \"list-name\": \"Change CSS\",\r\n  \"display-text\": \"Change CSS to [i]{0}[/i] (Is Local: {1})\",\r\n  \"description\": \"Change CSS\",\r\n  \"params\": {\r\n    \"new-css\": {\r\n      \"name\": \"New CSS\",\r\n      \"desc\": \"New CSS\"\r\n    },\r\n    \"is-local-css\": {\r\n      \"name\": \"Is Local CSS\",\r\n      \"desc\": \"Is Local CSS\"\r\n    }\r\n  }\r\n}","Code":"async ChangeCss(newCss,isLocalCss)\r\n{\r\n\tthis._action = \"CHANGE\";\r\n\tthis._css = newCss;\r\n\tthis._isLocal = isLocalCss;\r\n\t\t\r\n\tif (!!this._isLocal) {\r\n\t\tthis._url = await this._runtime.GetAssetManager().GetProjectFileUrl(this._css);\r\n\t} else {\r\n\t\tthis._url = this._css;\r\n\t}\r\n\t\r\n\r\n\tthis.UpdateElementState();\r\n}","ListName":"Change Css","Async":",\n\t\"isAsync\": true","C2Id":"","Deprecated":""},"add-class":{"Id":"add-class","Category":"classlist","ScriptName":"AddClass","Ace":"{\r\n  \"id\": \"add-class\",\r\n  \"scriptName\": \"AddClass\",\r\n  \"highlight\": false,\r\n  \"isAsync\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"selector\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"#id\\\"\"\r\n    },\r\n    {\r\n      \"id\": \"classe\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"class-name\\\"\"\r\n    }\r\n  ]\r\n}","DisplayText":"Add Class (CSS)","Description":"Add Class (CSS)","Highlight":"false","Language":"\"add-class\": {\r\n  \"list-name\": \"Add Class\",\r\n  \"display-text\": \"Add Class (CSS) [b]{1}[/b] to [i]{0}[/i]\",\r\n  \"description\": \"Add Class (CSS)\",\r\n  \"params\": {\r\n    \"selector\": {\r\n      \"name\": \"Selector\",\r\n      \"desc\": \"A DOMString containing one or more selectors to match against.\"\r\n    },\r\n    \"classe\": {\r\n      \"name\": \"Class\",\r\n      \"desc\": \"Adds the specified class values.\"\r\n    }\r\n  }\r\n} ","Code":"async AddClass(selector,classe)\r\n{\r\n\tthis._action = \"CLASS\";\r\n\t\r\n\tthis._class_action = \"ADD\";\r\n\tthis._class_selector = selector;\r\n\tthis._class_options_first = classe;\r\n\tthis._class_options_second = classe;\r\n\t\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Add Class","Async":"","C2Id":"","Deprecated":""},"remove-class":{"Id":"remove-class","Category":"classlist","ScriptName":"RemoveClass","Ace":"{\r\n  \"id\": \"remove-class\",\r\n  \"scriptName\": \"RemoveClass\",\r\n  \"highlight\": false,\r\n  \"isAsync\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"selector\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"#id\\\"\"\r\n    },\r\n    {\r\n      \"id\": \"classe\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"class-name\\\"\"\r\n    }\r\n  ]\r\n}","DisplayText":"Add Class (CSS)","Description":"Add Class (CSS)","Highlight":"false","Language":"\"remove-class\": {\r\n  \"list-name\": \"Remove Class\",\r\n  \"display-text\": \"Remove Class (CSS) [b]{1}[/b] from [i]{0}[/i]\",\r\n  \"description\": \"Remove Class (CSS)\",\r\n  \"params\": {\r\n    \"selector\": {\r\n      \"name\": \"Selector\",\r\n      \"desc\": \"A DOMString containing one or more selectors to match against.\"\r\n    },\r\n    \"classe\": {\r\n      \"name\": \"Class\",\r\n      \"desc\": \"Removes the specified class values.\"\r\n    }\r\n  }\r\n} ","Code":"async RemoveClass(selector,classe)\r\n{\r\n\tthis._action = \"CLASS\";\r\n\t\r\n\tthis._class_action = \"REMOVE\";\r\n\tthis._class_selector = selector;\r\n\tthis._class_options_first = classe;\r\n\tthis._class_options_second = classe;\r\n\t\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Add Class","Async":"","C2Id":"","Deprecated":""},"toggle-class":{"Id":"toggle-class","Category":"classlist","ScriptName":"ToggleClass","Ace":"{\r\n  \"id\": \"toggle-class\",\r\n  \"scriptName\": \"ToggleClass\",\r\n  \"highlight\": false,\r\n  \"isAsync\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"selector\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"#id\\\"\"\r\n    },\r\n    {\r\n      \"id\": \"classe\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"class-name\\\"\"\r\n    }\r\n  ]\r\n}","DisplayText":"Add Class (CSS)","Description":"Add Class (CSS)","Highlight":"false","Language":"\"toggle-class\": {\r\n  \"list-name\": \"Toggle Class\",\r\n  \"display-text\": \"Toggle Class (CSS) [b]{1}[/b] to [i]{0}[/i]\",\r\n  \"description\": \"Toggle Class (CSS)\",\r\n  \"params\": {\r\n    \"selector\": {\r\n      \"name\": \"Selector\",\r\n      \"desc\": \"A DOMString containing one or more selectors to match against.\"\r\n    },\r\n    \"classe\": {\r\n      \"name\": \"Class\",\r\n      \"desc\": \"Toggles the specified class values.\"\r\n    }\r\n  }\r\n} ","Code":"async ToggleClass(selector,classe)\r\n{\r\n\tthis._action = \"CLASS\";\r\n\t\r\n\tthis._class_action = \"TOGGLE\";\r\n\tthis._class_selector = selector;\r\n\tthis._class_options_first = classe;\r\n\tthis._class_options_second = classe;\r\n\t\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Add Class","Async":"","C2Id":"","Deprecated":""},"replace-class":{"Id":"replace-class","Category":"classlist","ScriptName":"ReplaceClass","Ace":"{\r\n  \"id\": \"replace-class\",\r\n  \"scriptName\": \"ReplaceClass\",\r\n  \"highlight\": false,\r\n  \"isAsync\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"selector\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"#id\\\"\"\r\n    },\r\n    {\r\n      \"id\": \"oldclasse\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"old-class-name\\\"\"\r\n    },\r\n    {\r\n      \"id\": \"newclasse\",\r\n      \"type\": \"string\",\r\n      \"initialValue\": \"\\\"old-class-name\\\"\"\r\n    }\r\n  ]\r\n}","DisplayText":"Add Class (CSS)","Description":"Add Class (CSS)","Highlight":"false","Language":"\"replace-class\": {\r\n  \"list-name\": \"Replace Class\",\r\n  \"display-text\": \"Replace Class (CSS) [b]{1}[/b] with [b]{2}[/b] in [i]{0}[/i]\",\r\n  \"description\": \"Replace Class (CSS)\",\r\n  \"params\": {\r\n    \"selector\": {\r\n      \"name\": \"Selector\",\r\n      \"desc\": \"A DOMString containing one or more selectors to match against.\"\r\n    },\r\n    \"oldclasse\": {\r\n      \"name\": \"Old Class\",\r\n      \"desc\": \"The old class.\"\r\n    },\r\n    \"newclasse\": {\r\n      \"name\": \"New Class\",\r\n      \"desc\": \"The new class.\"\r\n    }\r\n  }\r\n} ","Code":"async ReplaceClass(selector,oldclasse,newclasse)\r\n{\r\n\tthis._action = \"CLASS\";\r\n\t\r\n\tthis._class_action = \"REPLACE\";\r\n\tthis._class_selector = selector;\r\n\tthis._class_options_first = oldclasse;\r\n\tthis._class_options_second = newclasse;\r\n\t\t\r\n\tthis.UpdateElementState();\r\n}","ListName":"Add Class","Async":"","C2Id":"","Deprecated":""}},"Conditions":{},"Expressions":{},"ThirdPartyFiles":{"domSide.js":{"FileName":"domSide.js","Content":"\"use strict\";\r\n\r\n{\r\n\r\n\tconst DOM_COMPONENT_ID = \"StraniAnelli_InjectCSS_v2\";\r\n\r\n\tfunction StopPropagation(e)\r\n\t{\r\n\t\te.stopPropagation();\r\n\t}\r\n\t\r\n\tfunction addLink(e) {\r\n\t\r\n\t\tdeleteLinkByURL(e);\r\n\t\t\r\n\t\tconst linkCSS = document.createElement(\"link\");\r\n\t        \tlinkCSS.setAttribute(\"rel\", \"stylesheet\");\r\n\t        \tlinkCSS.setAttribute(\"type\", \"text/css\");\r\n\t        \tlinkCSS.setAttribute(\"href\", e[\"url\"]);\r\n\t        \tlinkCSS.setAttribute(\"createdbystranianelliinjectcss2\",\"\");\r\n\t        \tlinkCSS.setAttribute(\"idunico\", e[\"idUnico\"]);\r\n\t\t\r\n\t\tdocument.head.appendChild(linkCSS);\r\n\t}\r\n\t\r\n\tfunction deleteLinkByURL(e) {\r\n\t\tconst links = document.head.getElementsByTagName(\"link\");\r\n        const nameFile = e[\"url\"];\r\n        for (let i = 0; i < links.length; i++) {\r\n \t       if (links[i].href.substr(-nameFile.length) == nameFile) {\r\n \t          \tlinks[i].parentNode.removeChild(links[i]);\r\n\t\t\t\ti--;\r\n           }\r\n        }\r\n\t}\r\n\t\r\n\tfunction deleteLinkByIDUNICO(elem) {\r\n\t\tconst idunico = elem.getAttribute(\"idunico\");\r\n\t\tconst links = document.head.getElementsByTagName(\"link\");\r\n\t\tfor (let i = 0; i < links.length; i++) {\r\n \t       if (links[i].getAttribute(\"idunico\") == idunico) {\r\n \t          \tlinks[i].parentNode.removeChild(links[i]);\r\n\t\t\t\ti--;\r\n           }\r\n        }\r\n\t}\r\n\t\r\n\tfunction manageClassList(e) {\r\n\t\tconst items = document.querySelectorAll(e[\"class_selector\"]);\r\n\t\tconst action = e[\"class_action\"];\r\n\t\tconst firstClassName = e[\"class_option_first\"];\r\n\t\tconst secondClassName = e[\"class_options_second\"];\r\n\t\t\r\n\t\titems.forEach(function(elem) {\r\n\t\t\tchangeClassList(action, elem, firstClassName, secondClassName);\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction addClassList(elem, firstClassName) { elem.classList.add(firstClassName); }\r\n\tfunction removeClassList(elem, firstClassName) { elem.classList.remove(firstClassName); }\r\n\tfunction replaceClassList(elem, firstClassName, secondClassName) { elem.classList.replace(firstClassName, secondClassName); }\r\n\tfunction toggleClassList(elem, firstClassName) { elem.classList.toggle(firstClassName); }\r\n\t\r\n\tfunction changeClassList(action, elem, firstClassName, secondClassName) {\r\n\t\tif (action === \"NONE\") return;\r\n\t\tif (action === \"ADD\") addClassList(elem, firstClassName);\r\n\t\tif (action === \"REMOVE\") removeClassList(elem, firstClassName);\r\n\t\tif (action === \"REPLACE\") replaceClassList(elem, firstClassName, secondClassName);\r\n\t\tif (action === \"TOGGLE\") toggleClassList(elem, firstClassName);\r\n\t}\r\n\t\r\n\t\r\n\tconst HANDLER_CLASS = class InjectCSS_v2Handler extends DOMElementHandler\r\n\t{\r\n\t\tconstructor(iRuntime)\r\n\t\t{\r\n\t\t\tsuper(iRuntime, DOM_COMPONENT_ID);\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\tCreateElement(elementId, e) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tconst elem = document.createElement(\"span\");\r\n\t\t\telem.style.position = \"absolute\";\r\n\t\t\telem.style.display = \"none\";\r\n\t\t\telem.setAttribute(\"idunico\", e[\"idUnico\"]);\r\n\t\t\t\r\n\t\t\tthis.UpdateState(elem, e);\r\n          \t\r\n          \treturn elem;\r\n\t\t}\r\n\t\t\r\n\t\tUpdateState(elem, e) {\r\n\t\t\r\n\t\t\tif(e[\"action\"] === \"NONE\") return;\r\n          \t\r\n          \tif(e[\"action\"] === \"ADD\") {\r\n          \t    addLink(e);\r\n          \t    this.PostToRuntimeElement(\"changeaction\", DOM_COMPONENT_ID, { \"action\": \"NONE\" });\r\n          \t}\r\n          \t\r\n          \tif(e[\"action\"] === \"CHANGE\") {\r\n          \t\tdeleteLinkByIDUNICO(elem);\r\n          \t\taddLink(e);\r\n          \t\tthis.PostToRuntimeElement(\"changeaction\", DOM_COMPONENT_ID, { \"action\": \"NONE\" });\r\n          \t}\r\n          \t\r\n          \tif(e[\"action\"] === \"DELETE\") {\r\n          \t\tdeleteLinkByURL(e);\r\n          \t\tthis.PostToRuntimeElement(\"changeaction\", DOM_COMPONENT_ID, { \"action\": \"NONE\" });\r\n          \t}\r\n          \t\r\n          \tif(e[\"action\"] === \"DESTROY\"){\r\n          \t\tdeleteLinkByURL(e);\r\n          \t}\r\n          \t\r\n          \tif(e[\"action\"] === \"CLASS\") {\r\n          \t\tmanageClassList(e);\r\n          \t\tthis.PostToRuntimeElement(\"changeaction\", DOM_COMPONENT_ID, { \"action\": \"NONE\" });\r\n          \t}\r\n       }\r\n       \r\n       DestroyElement(elem) {\r\n       \t\tdeleteLinkByIDUNICO(elem);\r\n       }\r\n\t\t\r\n\t};\r\n\t\r\n\t\r\n\tRuntimeInterface.AddDOMHandlerClass(HANDLER_CLASS);\r\n\r\n}","PluginTemplate":"this._info.AddFileDependency(\n{\n    filename: \"c3runtime/domSide.js\",\n    type: \"inline-script\"\n});","Bytes":null,"Extention":".js","C3Folder":true,"C2Folder":false,"Rootfolder":false,"MimeType":"application/x-javascript","FileType":"inline-script","Compress":false,"PlainText":true}},"C2RunTime":""}